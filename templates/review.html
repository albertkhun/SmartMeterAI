{% extends "base.html" %}

{% block title %}Review | SmartMeterAI{% endblock %}

{% block content %}

  <!-- Header -->
  <div class="mb-8">
    <div class="bg-gradient-to-r from-green-600 to-emerald-500 text-white rounded-2xl shadow p-6">
      <h1 class="text-2xl md:text-3xl font-extrabold"> Review</h1>
      <p class="text-white/90 text-sm mt-1">
        Confirm AI prediction, mark false alarms, and improve model trust.
      </p>
    </div>
  </div>

  <!-- Form Card -->
  <div class="bg-white rounded-2xl shadow p-6 md:p-8 w-full max-w-xl mx-auto border border-gray-100">
    <form action="/review" method="post" class="space-y-5">

      <!-- Consumer ID -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Consumer ID</label>

        <div class="relative">
          <input
            list="consumerList"
            name="consumer_id"
            required
            placeholder="Search consumer (example: C005)"
            class="w-full border border-gray-300 rounded-xl p-3 pl-11 text-sm
                   focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500
                   transition"
          />
          <span class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400">üîé</span>
        </div>

        <datalist id="consumerList">
          {% for cid in consumer_ids %}
            <option value="{{ cid }}"></option>
          {% endfor %}
        </datalist>

        <p class="text-xs text-gray-500 mt-2">
          Tip: start typing to quickly find the consumer ID.
        </p>
      </div>

      <!-- Decision -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Decision</label>

        <select name="decision"
                class="w-full border border-gray-300 rounded-xl p-3 text-sm
                       focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500
                       transition bg-white">
          <option value="Confirm Theft">Confirm Theft</option>
          <option value="False Alarm">False Alarm</option>
          <option value="Need More Data"></option> Need More Data</option>
        </select>

        <p class="text-xs text-gray-500 mt-2">
          This decision updates the AI label/action instantly.
        </p>
      </div>

      <!-- Note -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-2">Inspector Note (optional)</label>
        <textarea
          name="note"
          rows="3"
          placeholder="Write short reason or observation..."
          class="w-full border border-gray-300 rounded-xl p-3 text-sm
                 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500
                 transition resize-none"
        ></textarea>
      </div>

      <!-- Buttons -->
      <div class="flex flex-col md:flex-row gap-3">
        <button type="submit"
                class="w-full py-3 rounded-xl bg-green-600 text-white font-semibold
                       hover:bg-green-700 transition shadow">
          ‚úÖ Submit Review
        </button>

        <a href="/alerts"
           class="w-full py-3 rounded-xl bg-gray-100 text-gray-800 font-semibold
                  hover:bg-gray-200 transition text-center">
          ‚Üê Back to Alerts
        </a>
      </div>

    </form>
  </div>

{% endblock %}
